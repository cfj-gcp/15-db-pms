<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1> The  01  ajax  page</h1>
<div>
<fieldset>
    <legend>AjAX 异步请求</legend>
    <button onclick="doAjax()">ajax get request</button>
    <span id="resultId">loading data .........</span>
</fieldset>
</div>
<script>
    function doAjax(){
        debugger;
        // 创建xhr对象（此对象是ajax技术应用的入口对象，发送异步请求，处理响应结果都是通过此对象实现的）
var  xhr=new XMLHttpRequest();
    //设置状态监听
        xhr.onreadystatechange=function (){//处理事件监听（处理服务端与客户端通过过程中产生的数据）
            //readyState的值0,1,2,3,4
            //0.表示还未执行open方法
            //1.表示已执行open方法但还未执行send方法
            //2.表示已执行send方法
            //3.表示客户端正在接收服务端响应的数据
            //4.表示客户端已经完成响应数据的接收
            if(xhr.readyState==4&&xhr.status==200){
  var result=xhr.responseText;//获取服务端响应的文本数据
      document.getElementById("resultId").innerHTML=result;
  }
        }
    //    建立与服务端的连接
        xhr.open("GET","http://localhost:1314/doAjax",true);//true表示异步请求，false表示同步，请求会在main线程发送
        xhr.send(null);//将请求交给ajax引擎
        console.log("do other..........");
    }
</script>
</body>
</html>